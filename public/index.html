<!DOCTYPE html>
<html>
<head>
    <title>Health Insurance Risk Calculator</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; padding: 20px; }
        label { display: block; margin: 10px 0 5px; }
        input, select { width: 100%; padding: 8px; margin-bottom: 10px; }
        button { padding: 10px 20px; background: #4CAF50; color: white; border: none; cursor: pointer; }
        .result { margin-top: 20px; padding: 15px; background: #f0f0f0; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Health Insurance Risk Calculator v2</h1>
    <form id="riskForm">
        <!-- Keep all your existing form elements -->
        <!-- ... -->
    </form>

    <div id="result" class="result"></div>

    <script>
        // UPDATE THIS WITH YOUR NEW WEB APP URL
        const API_BASE = 'https://health-risk-v2.azurewebsites.net';

        document.getElementById('riskForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            // Keep existing form data collection
            // ...

            try {
                const response = await fetch(`${API_BASE}/api/calculate-risk`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        age, 
                        weightKg, 
                        heightCm, 
                        systolic, 
                        diastolic, 
                        familyHistory 
                    })
                });

                // Keep existing response handling
                // ...
            } catch (error) {
                document.getElementById('result').innerHTML = 'Error connecting to the server.';
            }
        });
    </script>
</body>
</html>
